<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> base64字符串转Mp3</title></title>
    <style>
        *{
            list-style: none;
        }
        .content{
            display: flex;
        }
        .list{
            margin-top: 10px;
            display: flex;
        }
        .list >li{
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="content">
        <textarea name="" placeholder="请输入base64编码" id="txt" cols="100" rows="10"></textarea>
        <ul>
            <li>操作步骤：</li>
            <li>1. 粘贴base64编码 </li>
            <li>2. 格式化 </li>
            <li>3. 复制格式化后文本 </li>
            <li>4. Decode Base64 to Audio </li>
            <li>5. 下载转换好的 map3</li>
        </ul>
    </div>
    <br>
   
    <ul class="list">
        <li><button id="formatBtn">格式化</button></li>
        <li><button id="copyBtn" class="copyBtn" data-clipboard-target="#txt">复制格式化后文本</button></li>
        <li><button id="clearBtn">清空文本框</button></li>
    </ul>
    <div id="iframeBox">
        <iframe width="100%" height="500" src="https://base64.guru/converter/decode/audio">您的浏览器不支持 iframe,推荐使用 chrome 浏览器</iframe>
    </div>
</body>
    <script src="https://clipboardjs.com/dist/clipboard.min.js"></script>
    <script>
        window.onload = function(){
            var formatBtn = document.getElementById("formatBtn");
            var clearBtn = document.getElementById("clearBtn");
            var eleTxt = document.getElementById("txt");
            // 格式化
            formatBtn.onclick = function() {
           
            var txt = eleTxt.value.replace(/"/g, "").split(",")[1];
             if(txt){
                eleTxt.value = txt;
             }else{
                 alert("请重新输入base64编码");
             }
            }
            // 复制
            var clipboard = new ClipboardJS('.copyBtn');
            clipboard.on('success', function(e) {
                console.info('Text:', e.text);
                e.clearSelection();
            });

            clipboard.on('error', function(e) {
              alert("复制错误，请手动复制!");
            });

            // 清空
            clearBtn.onclick = function(){
                eleTxt.value = "";
            }
        }
    </script>
</html>